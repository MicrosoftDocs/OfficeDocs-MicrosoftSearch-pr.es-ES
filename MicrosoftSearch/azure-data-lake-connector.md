---
title: Azure Data Lake Connector para Microsoft Search
ms.author: monaray
author: monaray97
manager: shohara
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Configurar el conector de Azure Data Lake Storage-limpieza para Microsoft Search
ms.openlocfilehash: 860c923c62495c7df20152fb530797e390949305
ms.sourcegitcommit: 59cdd3f0f82b7918399bf44d27d9891076090f4f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/20/2020
ms.locfileid: "49367590"
---
# <a name="azure-data-lake-storage-gen2-connector"></a><span data-ttu-id="7ebf0-103">Conector de Azure Data Lake Storage-reconexión</span><span class="sxs-lookup"><span data-stu-id="7ebf0-103">Azure Data Lake Storage Gen2 connector</span></span>

<span data-ttu-id="7ebf0-104">Con el conector de Azure Data Lake Storage-post, los usuarios de la organización pueden buscar archivos almacenados en [Azure BLOB Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) y cuentas de [almacenamiento de Azure Data Lake Gen 2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) .</span><span class="sxs-lookup"><span data-stu-id="7ebf0-104">With the Azure Data Lake Storage Gen2 connector, users in your organization can search for files stored in [Azure Blob Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) and [Azure Data Lake Gen 2 Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) accounts.</span></span>

<span data-ttu-id="7ebf0-105">Este artículo está destinado a los administradores de [Microsoft 365](https://www.microsoft.com/microsoft-365) o a cualquier usuario que configure, ejecute y supervise un conector de Azure Data Lake Storage.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-105">This article is for [Microsoft 365](https://www.microsoft.com/microsoft-365) administrators or anyone who configures, runs, and monitors an Azure Data Lake Storage Gen2 connector.</span></span> <span data-ttu-id="7ebf0-106">Proporciona información general sobre la configuración de conectores, las capacidades, las limitaciones y las técnicas de solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-106">It gives an overview of the connector configuration, capabilities, limitations, and troubleshooting techniques.</span></span> <span data-ttu-id="7ebf0-107">En el artículo, usamos *Azure Storage* como un término genérico para el almacenamiento de [blobs de Azure](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) y el [almacenamiento de Azure Data Lake Gen 2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction).</span><span class="sxs-lookup"><span data-stu-id="7ebf0-107">In the article, we use *Azure Storage* as a generic term for [Azure Blob Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) and [Azure Data Lake Gen 2 Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction).</span></span>

## <a name="connect-to-a-data-source"></a><span data-ttu-id="7ebf0-108">Conectarse a un origen de datos</span><span class="sxs-lookup"><span data-stu-id="7ebf0-108">Connect to a data source</span></span>

### <a name="primary-storage-connection-string"></a><span data-ttu-id="7ebf0-109">Cadena de conexión de almacenamiento principal</span><span class="sxs-lookup"><span data-stu-id="7ebf0-109">Primary storage connection string</span></span>

<span data-ttu-id="7ebf0-110">En la pantalla **autenticación y configuración** , especifique la cadena de conexión de almacenamiento principal.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-110">On the **Authentication and config** screen, provide the Primary Storage Connection String.</span></span> <span data-ttu-id="7ebf0-111">Esa cadena es necesaria para permitir el acceso a su cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-111">That string is required to allow access to your storage account.</span></span> <span data-ttu-id="7ebf0-112">Para encontrar la cadena de conexión, vaya a [Azure portal](https://ms.portal.azure.com/#home) y vaya a la sección **claves** de la cuenta de almacenamiento de Azure correspondiente.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-112">To find your connection string, go to the [Azure portal](https://ms.portal.azure.com/#home) and navigate to the **Keys** section of your relevant Azure Storage account.</span></span> <span data-ttu-id="7ebf0-113">Copie y pegue la cadena de conexión en el campo correspondiente de la pantalla.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-113">Copy and paste the connection string in the appropriate field on the screen.</span></span>

<span data-ttu-id="7ebf0-114">Si no prefiere proporcionar el **AccountKey** (un parámetro en la cadena de conexión de almacenamiento principal), tendrá que conceder acceso a nuestro servicio de conectores de Graph para los roles siguientes.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-114">If you do not prefer to provide the **AccountKey** (a parameter in the primary storage connection string), you will need to grant access to our Graph Connectors Service for the following roles.</span></span>

* <span data-ttu-id="7ebf0-115">Lector de datos BLOB de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="7ebf0-115">Storage Blob Data Reader</span></span>
* <span data-ttu-id="7ebf0-116">Colaborador de datos de cola de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="7ebf0-116">Storage Queue Data Contributor</span></span>
* <span data-ttu-id="7ebf0-117">Delegado de BLOB de almacenamiento (solo para almacenamiento jerárquico)</span><span class="sxs-lookup"><span data-stu-id="7ebf0-117">Storage Blob Delegator (only for hierarchical storage)</span></span>

<span data-ttu-id="7ebf0-118">Navegue a la pestaña **control de acceso** de la cuenta de Azure Storage y siga las instrucciones para conceder acceso a la siguiente aplicación:</span><span class="sxs-lookup"><span data-stu-id="7ebf0-118">Navigate to the **Access Control** tab of your Azure Storage account, and follow the instructions there to grant access to the following app:</span></span>

* <span data-ttu-id="7ebf0-119">**Identificador de la aplicación de primer fabricante:** 56c1da01-2129-48f7-9355-af6d59d42766</span><span class="sxs-lookup"><span data-stu-id="7ebf0-119">**First Party App ID:** 56c1da01-2129-48f7-9355-af6d59d42766</span></span>
* <span data-ttu-id="7ebf0-120">**Nombre de la aplicación de primer fabricante:** Servicio conector de Graph</span><span class="sxs-lookup"><span data-stu-id="7ebf0-120">**First Party App Name:** Graph Connector Service</span></span>

### <a name="storage-account-and-queue-notifications-optional"></a><span data-ttu-id="7ebf0-121">Notificaciones de cuenta de almacenamiento y de cola (opcional)</span><span class="sxs-lookup"><span data-stu-id="7ebf0-121">Storage account and queue notifications (Optional)</span></span>

<span data-ttu-id="7ebf0-122">La compatibilidad para procesar cambios en tiempo real en el servicio de conectores de gráficos se puede Agregar en el futuro.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-122">Support to process changes in real time in the Graph Connectors Service might be added in the future.</span></span> <span data-ttu-id="7ebf0-123">En ese caso, se supervisarán las notificaciones de cambios de almacenamiento de Azure almacenadas en una cola.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-123">In that case, we'll monitor Azure Storage change notifications stored in a queue.</span></span> <span data-ttu-id="7ebf0-124">Deberá crear una cola en la misma cuenta que la cuenta de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-124">You'll need to create a queue in the same account as your Azure Storage account.</span></span>

<span data-ttu-id="7ebf0-125">Después de crear una cola, vaya a la ficha **eventos** de la página cola para configurar la **suscripción de eventos**.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-125">After you create a queue, go to the **Events** tab on the queue page to configure **Event Subscription**.</span></span> <span data-ttu-id="7ebf0-126">Elija todos los eventos BLOB que recibirá la cola y conecte la cola a la cuenta de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-126">Choose all the Blob events that the queue will receive, and connect the queue to the Azure Storage account.</span></span>

## <a name="manage-search-permissions"></a><span data-ttu-id="7ebf0-127">Administrar permisos de búsqueda</span><span class="sxs-lookup"><span data-stu-id="7ebf0-127">Manage search permissions</span></span>

### <a name="azure-data-lake-gen-2"></a><span data-ttu-id="7ebf0-128">Azure Data Lake Gen 2</span><span class="sxs-lookup"><span data-stu-id="7ebf0-128">Azure Data Lake Gen 2</span></span>

<span data-ttu-id="7ebf0-129">En la pantalla **administrar permisos de búsqueda** , puede optar por recopilar las listas de control de acceso (ACL) de su cuenta de [almacenamiento de Azure Data Lake Gen 2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) .</span><span class="sxs-lookup"><span data-stu-id="7ebf0-129">On the **Manage search permissions** screen, you can choose to ingest the Access Control Lists (ACLs) from your [Azure Data Lake Gen 2 Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) account.</span></span> <span data-ttu-id="7ebf0-130">Cuando se establecen estos permisos de búsqueda, el contenido de la búsqueda se recorta en función de los permisos asignados al usuario de [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/) que ha iniciado la búsqueda en el contenido.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-130">When these search permissions are set, search content is trimmed based on the permissions assigned to the signed-in [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/) user searching the content.</span></span> <span data-ttu-id="7ebf0-131">Como alternativa, puede elegir que todo el contenido indizado de su cuenta de almacenamiento esté visible para todos los usuarios de la organización.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-131">Alternatively, you can choose to make all the content indexed from your storage account visible to everyone in your organization.</span></span> <span data-ttu-id="7ebf0-132">En este caso, todos los usuarios de la organización tendrán acceso a todos los datos de la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-132">In this case, everyone in your organization will have access to all the data in your storage account.</span></span>

### <a name="azure-blob-storage"></a><span data-ttu-id="7ebf0-133">Azure Blob Storage</span><span class="sxs-lookup"><span data-stu-id="7ebf0-133">Azure Blob Storage</span></span>

<span data-ttu-id="7ebf0-134">Para una conexión a [Azure BLOB Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction), todo el contenido indizado desde el origen configurado es visible para todos los usuarios de la organización.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-134">For a connection to [Azure Blob Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction), all the content indexed from the configured source is visible to everyone in your organization.</span></span> <span data-ttu-id="7ebf0-135">Las listas de control de acceso no se admiten en el nivel de BLOB en Azure BLOB Storage.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-135">Access control lists are not supported at Blob level in Azure Blob Storage.</span></span>

## <a name="manage-search-permissions"></a><span data-ttu-id="7ebf0-136">Administrar permisos de búsqueda</span><span class="sxs-lookup"><span data-stu-id="7ebf0-136">Manage search permissions</span></span>

<span data-ttu-id="7ebf0-137">El conector de Azure Data Lake Storage-o solo admite permisos de búsqueda visibles para **todos** los usuarios o **solo personas con acceso a este origen de datos**.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-137">The Azure Data Lake Storage Gen2 connector supports search permissions visible to **Everyone** or **Only people with access to this data source**.</span></span> <span data-ttu-id="7ebf0-138">Los datos indizados que aparecen en los resultados de la búsqueda pueden ser visibles para todos los usuarios de la organización o solo para los usuarios que tienen acceso a cada elemento.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-138">Indexed data that appears in the search results could be visible to all users in the organization or only to users who have access to each item.</span></span>

## <a name="assign-property-labels"></a><span data-ttu-id="7ebf0-139">Asignar etiquetas de propiedad</span><span class="sxs-lookup"><span data-stu-id="7ebf0-139">Assign property labels</span></span>

<span data-ttu-id="7ebf0-140">Puede asignar una propiedad de origen a cada etiqueta eligiendo en un menú de opciones.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-140">You can assign a source property to each label by choosing from a menu of options.</span></span> <span data-ttu-id="7ebf0-141">Aunque este paso no es obligatorio, tener algunas etiquetas de propiedades mejorará la relevancia de la búsqueda y garantizará resultados de búsqueda más precisos para los usuarios finales.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-141">While this step is not mandatory, having some property labels will improve the search relevance and ensure more accurate search results for end users.</span></span>

## <a name="manage-schema"></a><span data-ttu-id="7ebf0-142">Administrar esquema</span><span class="sxs-lookup"><span data-stu-id="7ebf0-142">Manage schema</span></span>

<span data-ttu-id="7ebf0-143">En la pantalla **administrar esquema** , tiene la opción de cambiar los atributos de esquema (**consultable**, **búsquedas**, **recuperables** y **refinables**) asociados con las propiedades, agregar alias opcionales y elegir la propiedad de **contenido** .</span><span class="sxs-lookup"><span data-stu-id="7ebf0-143">On the **Manage Schema** screen, you have the option to change the schema attributes (**queryable**, **searchable**, **retrievable**, and **refinable**) associated with the properties, add optional aliases, and choose the **Content** property.</span></span>

## <a name="set-the-refresh-schedule"></a><span data-ttu-id="7ebf0-144">Establecer la programación de actualización</span><span class="sxs-lookup"><span data-stu-id="7ebf0-144">Set the refresh schedule</span></span>

<span data-ttu-id="7ebf0-145">En la pantalla de configuración de la **actualización** , puede establecer el intervalo de rastreo incremental y el intervalo de rastreo completo.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-145">On the **Refresh Settings** screen, you can set the incremental crawl interval and the full crawl interval.</span></span> <span data-ttu-id="7ebf0-146">Los intervalos predeterminados para el conector de Azure Data Lake Storage/1 son 15 minutos para un rastreo incremental y una semana para un rastreo completo.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-146">The default intervals for the Azure Data Lake Storage Gen2 connector are 15 minutes for an incremental crawl and one week for a full crawl.</span></span>

## <a name="limitations"></a><span data-ttu-id="7ebf0-147">Limitaciones</span><span class="sxs-lookup"><span data-stu-id="7ebf0-147">Limitations</span></span>

<span data-ttu-id="7ebf0-148">No se puede volver a configurar una conexión publicada para el almacenamiento de blobs de Azure para el origen de Azure Data Lake Storage-lectura y viceversa.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-148">A published connection for Azure Blob Storage cannot be reconfigured for Azure Data Lake Storage Gen2 source and vice-versa.</span></span> <span data-ttu-id="7ebf0-149">En estos casos, se recomienda configurar una nueva conexión.</span><span class="sxs-lookup"><span data-stu-id="7ebf0-149">In such scenarios, it is recommended to configure a new connection.</span></span>

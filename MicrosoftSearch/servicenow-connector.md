---
title: Conector de ServiceNow para Microsoft Search
ms.author: kam1
author: TheKarthikeyan
manager: harshkum
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Configurar el conector de ServiceNow para Microsoft Search
ms.openlocfilehash: 520232f8055d5432ccb96a840a9466ae6a4e3b1a
ms.sourcegitcommit: ac4e261c01262be747341f810d2d1faf220d3961
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/23/2020
ms.locfileid: "49382564"
---
# <a name="servicenow-connector"></a><span data-ttu-id="83528-103">Conector de ServiceNow</span><span class="sxs-lookup"><span data-stu-id="83528-103">ServiceNow connector</span></span>

<span data-ttu-id="83528-104">Con el conector de ServiceNow, su organización puede indizar artículos de Knowledge base que son visibles para todos los usuarios o restringidos con permisos de criterios de usuario dentro de la organización.</span><span class="sxs-lookup"><span data-stu-id="83528-104">With the ServiceNow connector, your organization can index knowledge-base articles that are visible to all users or restricted with user criteria permissions within your organization.</span></span> <span data-ttu-id="83528-105">Después de configurar el conector y el contenido del índice desde ServiceNow, los usuarios finales pueden buscar dichos artículos desde cualquier cliente de Microsoft Search.</span><span class="sxs-lookup"><span data-stu-id="83528-105">After you configure the connector and index content from ServiceNow, end users can search for those articles from any Microsoft Search client.</span></span>  

<span data-ttu-id="83528-106">Este artículo está destinado a los administradores de Microsoft 365 o a cualquiera que configure, ejecute y supervise un conector de ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="83528-106">This article is for Microsoft 365 administrators or anyone who configures, runs, and monitors a ServiceNow connector.</span></span> <span data-ttu-id="83528-107">Se explica cómo configurar las capacidades del conector y el conector, las limitaciones y las técnicas de solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="83528-107">It explains how to configure your connector and connector capabilities, limitations, and troubleshooting techniques.</span></span>

<span data-ttu-id="83528-108">Obtenga información acerca de cómo tener acceso a los conectores creados por Microsoft desde [la instalación del conector creado por Microsoft para Microsoft Search](https://docs.microsoft.com/microsoftsearch/configure-connector).</span><span class="sxs-lookup"><span data-stu-id="83528-108">Learn how to access Microsoft built connectors from [Set up your Microsoft-built connector for Microsoft Search](https://docs.microsoft.com/microsoftsearch/configure-connector).</span></span> <span data-ttu-id="83528-109">La configuración específica de ServiceNow Connector se explica en el artículo siguiente.</span><span class="sxs-lookup"><span data-stu-id="83528-109">ServiceNow connector specific configuration is explained in the article below.</span></span>

## <a name="connection-settings"></a><span data-ttu-id="83528-110">Configuración de conexión</span><span class="sxs-lookup"><span data-stu-id="83528-110">Connection Settings</span></span>
<span data-ttu-id="83528-111">Para conectarse a los datos de ServiceNow, necesita la URL de **instancia de servicenow** de su organización, las credenciales de esta cuenta y el identificador de cliente y el secreto de cliente para la autenticación OAuth.</span><span class="sxs-lookup"><span data-stu-id="83528-111">To connect to your ServiceNow data, you need your organization's **ServiceNow instance URL**, credentials for this account, and the Client ID and Client Secret for OAuth authentication.</span></span>  

<span data-ttu-id="83528-112">Normalmente, la **dirección URL** de la instancia de ServiceNow de la organización es similar a **https:// &lt; -Organization-Domain>. Service-Now.com**.</span><span class="sxs-lookup"><span data-stu-id="83528-112">Your organization’s **ServiceNow instance URL** typically looks like **https://&lt;your-organization-domain>.service-now.com**.</span></span> <span data-ttu-id="83528-113">Junto con esta dirección URL, necesitará una cuenta para configurar la conexión a ServiceNow, así como para permitir que Microsoft Search actualice los artículos periódicamente desde ServiceNow en función de la programación de actualización.</span><span class="sxs-lookup"><span data-stu-id="83528-113">Along with this URL, you will need an account for setting up the connection to ServiceNow as well as for allowing Microsoft Search to periodically update the articles from ServiceNow based on the refresh schedule.</span></span> <span data-ttu-id="83528-114">La cuenta debe tener como mínimo el rol de <em>conocimiento</em> .</span><span class="sxs-lookup"><span data-stu-id="83528-114">The account should at least have <em>knowledge</em> role.</span></span> <span data-ttu-id="83528-115">[Obtenga información sobre cómo asignar roles para cuentas de ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span><span class="sxs-lookup"><span data-stu-id="83528-115">[Learn how to assign role for ServiceNow accounts](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span></span>

>[!NOTE]
><span data-ttu-id="83528-116">Si desea rastrear las identidades de usuario y de grupo para respetar los permisos de acceso de los artículos de conocimientos en los resultados de búsqueda de Microsoft, la cuenta debe tener acceso para leer los siguientes registros de tabla en ServiceNow:</span><span class="sxs-lookup"><span data-stu-id="83528-116">If you want to crawl user and group identities to honor access permissions of knowledge articles in Microsoft Search results, the account should have access to read the following table records in ServiceNow:</span></span>
>* <span data-ttu-id="83528-117">kb_uc_can_contribute_mtom</span><span class="sxs-lookup"><span data-stu-id="83528-117">kb_uc_can_contribute_mtom</span></span>
>* <span data-ttu-id="83528-118">kb_uc_can_read_mtom</span><span class="sxs-lookup"><span data-stu-id="83528-118">kb_uc_can_read_mtom</span></span>
>* <span data-ttu-id="83528-119">kb_uc_cannot_read_mtom</span><span class="sxs-lookup"><span data-stu-id="83528-119">kb_uc_cannot_read_mtom</span></span>
>* <span data-ttu-id="83528-120">kb_uc_cannot_contribute_mtom</span><span class="sxs-lookup"><span data-stu-id="83528-120">kb_uc_cannot_contribute_mtom</span></span>
>* <span data-ttu-id="83528-121">sys_user</span><span class="sxs-lookup"><span data-stu-id="83528-121">sys_user</span></span>
>* <span data-ttu-id="83528-122">sys_user_has_role</span><span class="sxs-lookup"><span data-stu-id="83528-122">sys_user_has_role</span></span>
>* <span data-ttu-id="83528-123">sys_user_grmember</span><span class="sxs-lookup"><span data-stu-id="83528-123">sys_user_grmember</span></span>
>* <span data-ttu-id="83528-124">user_criteria</span><span class="sxs-lookup"><span data-stu-id="83528-124">user_criteria</span></span>
>* <span data-ttu-id="83528-125">kb_knowledge_base</span><span class="sxs-lookup"><span data-stu-id="83528-125">kb_knowledge_base</span></span>  
> <span data-ttu-id="83528-126">Puede crear y asignar un rol para la cuenta que use para conectarse con Microsoft Search.</span><span class="sxs-lookup"><span data-stu-id="83528-126">You can create and assign a role for the account you use to connect with Microsoft Search.</span></span> <span data-ttu-id="83528-127">El acceso de lectura a las tablas se puede asignar a esa función.</span><span class="sxs-lookup"><span data-stu-id="83528-127">Read access to the tables can be assigned on that role.</span></span> <span data-ttu-id="83528-128">Para obtener información sobre cómo establecer el acceso de lectura a los registros de la tabla, vea [proteger registros de tabla](https://developer.servicenow.com/dev.do#!/learn/learning-plans/orlando/new_to_servicenow/app_store_learnv2_securingapps_orlando_creating_and_editing_access_controls).</span><span class="sxs-lookup"><span data-stu-id="83528-128">To learn about setting read access to table records, see [Securing Table Records](https://developer.servicenow.com/dev.do#!/learn/learning-plans/orlando/new_to_servicenow/app_store_learnv2_securingapps_orlando_creating_and_editing_access_controls).</span></span>

<span data-ttu-id="83528-129">Para autenticar y sincronizar el contenido desde ServiceNow, elija **uno de los tres** métodos admitidos:</span><span class="sxs-lookup"><span data-stu-id="83528-129">To authenticate and sync content from ServiceNow, choose **one of three** supported methods:</span></span> 
1. <span data-ttu-id="83528-130">Autenticación básica</span><span class="sxs-lookup"><span data-stu-id="83528-130">Basic authentication</span></span> 
2. <span data-ttu-id="83528-131">ServiceNow OAuth (recomendado)</span><span class="sxs-lookup"><span data-stu-id="83528-131">ServiceNow OAuth (recommended)</span></span>
3. <span data-ttu-id="83528-132">OpenID Connect de Azure AD</span><span class="sxs-lookup"><span data-stu-id="83528-132">Azure AD OpenID Connect</span></span>

#### <a name="basic-authentication"></a><span data-ttu-id="83528-133">Autenticación básica</span><span class="sxs-lookup"><span data-stu-id="83528-133">Basic authentication</span></span>

<span data-ttu-id="83528-134">Escriba el nombre de usuario y la contraseña de la cuenta de ServiceNow con el rol de **conocimiento** para autenticarse en la instancia.</span><span class="sxs-lookup"><span data-stu-id="83528-134">Enter the username and password of ServiceNow account with **knowledge** role to authenticate to your instance.</span></span>

#### <a name="servicenow-oauth"></a><span data-ttu-id="83528-135">OAuth de ServiceNow</span><span class="sxs-lookup"><span data-stu-id="83528-135">ServiceNow OAuth</span></span>

<span data-ttu-id="83528-136">Para usar ServiceNow OAuth para la autenticación, un administrador de ServiceNow debe aprovisionar un extremo en su instancia de ServiceNow, de modo que la aplicación de Microsoft Search pueda acceder a la instancia.</span><span class="sxs-lookup"><span data-stu-id="83528-136">To use ServiceNow OAuth for authentication, a ServiceNow admin needs to provision an endpoint in your ServiceNow instance, so that the Microsoft Search app can access the instance.</span></span> <span data-ttu-id="83528-137">Para obtener más información, consulte [crear un extremo para que los clientes accedan a la instancia](https://docs.servicenow.com/bundle/newyork-platform-administration/page/administer/security/task/t_CreateEndpointforExternalClients.html) en la documentación de ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="83528-137">To learn more, see [Create an endpoint for clients to access the instance](https://docs.servicenow.com/bundle/newyork-platform-administration/page/administer/security/task/t_CreateEndpointforExternalClients.html) in the ServiceNow documentation.</span></span>

<span data-ttu-id="83528-138">En la siguiente tabla se proporcionan instrucciones sobre cómo rellenar el formulario de creación de extremos:</span><span class="sxs-lookup"><span data-stu-id="83528-138">The following table provides guidance on how to fill out the endpoint creation form:</span></span>

<span data-ttu-id="83528-139">**Field**</span><span class="sxs-lookup"><span data-stu-id="83528-139">**Field**</span></span> | <span data-ttu-id="83528-140">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="83528-140">**Description**</span></span> | <span data-ttu-id="83528-141">**Valor recomendado**</span><span class="sxs-lookup"><span data-stu-id="83528-141">**Recommended Value**</span></span>
--- | --- | ---
<span data-ttu-id="83528-142">Nombre</span><span class="sxs-lookup"><span data-stu-id="83528-142">Name</span></span> | <span data-ttu-id="83528-143">Este valor único identifica la aplicación para la que requiere acceso de OAuth.</span><span class="sxs-lookup"><span data-stu-id="83528-143">This unique value identifies the application that you require OAuth access for.</span></span> | <span data-ttu-id="83528-144">Búsqueda de Microsoft</span><span class="sxs-lookup"><span data-stu-id="83528-144">Microsoft Search</span></span>
<span data-ttu-id="83528-145">Identificador de cliente</span><span class="sxs-lookup"><span data-stu-id="83528-145">Client ID</span></span> | <span data-ttu-id="83528-146">IDENTIFICADOR único de solo lectura y generado automáticamente para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="83528-146">A read-only, auto-generated unique ID for the application.</span></span> <span data-ttu-id="83528-147">La instancia usa el identificador de cliente cuando solicita un token de acceso.</span><span class="sxs-lookup"><span data-stu-id="83528-147">The instance uses the client ID when it requests an access token.</span></span> | <span data-ttu-id="83528-148">N/D</span><span class="sxs-lookup"><span data-stu-id="83528-148">NA</span></span>
<span data-ttu-id="83528-149">Secreto de cliente</span><span class="sxs-lookup"><span data-stu-id="83528-149">Client secret</span></span> | <span data-ttu-id="83528-150">Con esta cadena secreta compartida, la instancia de ServiceNow y las autorizaciones de Microsoft Search permiten comunicarse entre sí.</span><span class="sxs-lookup"><span data-stu-id="83528-150">With this shared secret string, the ServiceNow instance and Microsoft Search authorize communications with each other.</span></span> | <span data-ttu-id="83528-151">Siga los procedimientos recomendados de seguridad tratando esto como una contraseña.</span><span class="sxs-lookup"><span data-stu-id="83528-151">Follow security best-practices by treating this as a password.</span></span>
<span data-ttu-id="83528-152">Dirección URL de redireccionamiento</span><span class="sxs-lookup"><span data-stu-id="83528-152">Redirect URL</span></span> | <span data-ttu-id="83528-153">Una dirección URL de devolución de llamada obligatoria a la que redirige el servidor de autorización.</span><span class="sxs-lookup"><span data-stu-id="83528-153">A required callback URL that the authorization server redirects to.</span></span> | https://gcs.office.com/v1.0/admin/oauth/callback
<span data-ttu-id="83528-154">Dirección URL del logotipo</span><span class="sxs-lookup"><span data-stu-id="83528-154">Logo URL</span></span> | <span data-ttu-id="83528-155">Una dirección URL que contiene la imagen del logotipo de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="83528-155">A URL that contains the image for the application logo.</span></span> | <span data-ttu-id="83528-156">N/D</span><span class="sxs-lookup"><span data-stu-id="83528-156">NA</span></span>
<span data-ttu-id="83528-157">Activo</span><span class="sxs-lookup"><span data-stu-id="83528-157">Active</span></span> | <span data-ttu-id="83528-158">Active la casilla para activar el registro de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="83528-158">Select the check box to make the application registry active.</span></span> | <span data-ttu-id="83528-159">Establecer en activo</span><span class="sxs-lookup"><span data-stu-id="83528-159">Set to active</span></span>
<span data-ttu-id="83528-160">Duración del token de actualización</span><span class="sxs-lookup"><span data-stu-id="83528-160">Refresh token lifespan</span></span> | <span data-ttu-id="83528-161">Número de segundos que un token de actualización es válido.</span><span class="sxs-lookup"><span data-stu-id="83528-161">The number of seconds that a refresh token is valid.</span></span> <span data-ttu-id="83528-162">De forma predeterminada, los tokens de actualización expiran en 100 días (8640000 segundos).</span><span class="sxs-lookup"><span data-stu-id="83528-162">By default, refresh tokens expire in 100 days (8640000 seconds).</span></span> | <span data-ttu-id="83528-163">31.536.000 (1 año)</span><span class="sxs-lookup"><span data-stu-id="83528-163">31,536,000 (1 year)</span></span>
<span data-ttu-id="83528-164">Duración del token de acceso</span><span class="sxs-lookup"><span data-stu-id="83528-164">Access token lifespan</span></span> | <span data-ttu-id="83528-165">Número de segundos que un token de acceso es válido.</span><span class="sxs-lookup"><span data-stu-id="83528-165">The number of seconds that an access token is valid.</span></span> | <span data-ttu-id="83528-166">43.200 (12 horas)</span><span class="sxs-lookup"><span data-stu-id="83528-166">43,200 (12 hours)</span></span>

<span data-ttu-id="83528-167">Escriba el identificador de cliente y el secreto de cliente para conectarse a su instancia.</span><span class="sxs-lookup"><span data-stu-id="83528-167">Enter the client id and client secret to connect to your instance.</span></span> <span data-ttu-id="83528-168">Después de conectar, use una credencial de cuenta de ServiceNow para autenticar el permiso para el rastreo.</span><span class="sxs-lookup"><span data-stu-id="83528-168">After connecting, use a ServiceNow account credential to authenticate permission to crawl.</span></span> <span data-ttu-id="83528-169">La cuenta debe tener como mínimo el rol de **conocimiento** .</span><span class="sxs-lookup"><span data-stu-id="83528-169">The account should at least have **knowledge** role.</span></span>

#### <a name="azure-ad-openid-connect"></a><span data-ttu-id="83528-170">OpenID Connect de Azure AD</span><span class="sxs-lookup"><span data-stu-id="83528-170">Azure AD OpenID Connect</span></span>

<span data-ttu-id="83528-171">Para usar el OpenID Connect de Azure AD para la autenticación, siga los pasos que se indican a continuación.</span><span class="sxs-lookup"><span data-stu-id="83528-171">To use Azure AD OpenID Connect for authentication, follow the steps below.</span></span>

###### <a name="step-1-register-a-new-application-in-azure-active-directory"></a><span data-ttu-id="83528-172">Paso 1: registrar una nueva aplicación en Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="83528-172">Step 1: Register a new application in Azure Active Directory</span></span>

<span data-ttu-id="83528-173">Para obtener información sobre cómo registrar una nueva aplicación en Azure Active Directory, vea [registrar una aplicación](https://docs.microsoft.com/azure/active-directory/develop/quickstart-register-app#register-an-application).</span><span class="sxs-lookup"><span data-stu-id="83528-173">To learn about registering a new application in Azure Active Directory, see [Register an application](https://docs.microsoft.com/azure/active-directory/develop/quickstart-register-app#register-an-application).</span></span> <span data-ttu-id="83528-174">Seleccione el directorio de organización de un solo inquilino.</span><span class="sxs-lookup"><span data-stu-id="83528-174">Select single tenant organizational directory.</span></span> <span data-ttu-id="83528-175">No se necesita el URI de redireccionamiento.</span><span class="sxs-lookup"><span data-stu-id="83528-175">Redirect URI is not needed.</span></span> <span data-ttu-id="83528-176">Después del registro, anote el identificador de la aplicación (cliente) y el identificador del directorio (inquilino).</span><span class="sxs-lookup"><span data-stu-id="83528-176">After registration, note down the Application (client) ID and Directory (tenant) ID.</span></span>

###### <a name="step-2-create-a-client-secret"></a><span data-ttu-id="83528-177">Paso 2: crear un secreto de cliente</span><span class="sxs-lookup"><span data-stu-id="83528-177">Step 2: Create a client secret</span></span>

<span data-ttu-id="83528-178">Para obtener información sobre cómo crear un secreto de cliente, vea [crear un secreto de cliente](https://docs.microsoft.com/azure/active-directory/develop/quickstart-register-app#add-a-client-secret).</span><span class="sxs-lookup"><span data-stu-id="83528-178">To learn about creating a client secret, see [Creating a client secret](https://docs.microsoft.com/azure/active-directory/develop/quickstart-register-app#add-a-client-secret).</span></span> <span data-ttu-id="83528-179">Tome nota del secreto de cliente.</span><span class="sxs-lookup"><span data-stu-id="83528-179">Take a note of client secret.</span></span>

###### <a name="step-3-retrieve-service-principal-object-identifier"></a><span data-ttu-id="83528-180">Paso 3: recuperar el identificador del objeto de entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="83528-180">Step 3: Retrieve Service Principal Object Identifier</span></span>

<span data-ttu-id="83528-181">Siga los pasos para recuperar el identificador de objeto de entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="83528-181">Follow the steps to retrieve Service Principal Object Identifier</span></span>

1. <span data-ttu-id="83528-182">Ejecutar PowerShell</span><span class="sxs-lookup"><span data-stu-id="83528-182">Run PowerShell</span></span>
2. <span data-ttu-id="83528-183">Instalar Azure PowerShell con el siguiente comando</span><span class="sxs-lookup"><span data-stu-id="83528-183">Install Azure PowerShell using the following command</span></span>
```<language>
   Install-Module -Name Az -AllowClobber -Scope CurrentUser
```
3. <span data-ttu-id="83528-184">Conectarse a Azure</span><span class="sxs-lookup"><span data-stu-id="83528-184">Connect to Azure</span></span>
```<language>
    Connect-AzAccount
```
4. <span data-ttu-id="83528-185">Obtener el identificador del objeto de entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="83528-185">Get Service Principal Object Identifier</span></span>
```<language>
   Get-AzADServicePrincipal -ApplicationId "Application-ID"
```
<span data-ttu-id="83528-186">Reemplace "Application-ID" por el identificador de la aplicación (cliente) (sin comillas) de la aplicación que registró en el paso 1.</span><span class="sxs-lookup"><span data-stu-id="83528-186">Replace "Application-ID" with Application (client) ID (without quotes) of the application you registered in step 1.</span></span> <span data-ttu-id="83528-187">Anote el valor del objeto ID de la salida de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="83528-187">Note the value of ID object from PowerShell output.</span></span> <span data-ttu-id="83528-188">Es el identificador de entidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="83528-188">It is the Service Principal ID.</span></span>

<span data-ttu-id="83528-189">Ahora tiene toda la información necesaria de Azure portal.</span><span class="sxs-lookup"><span data-stu-id="83528-189">Now you have all the information required from Azure portal.</span></span> <span data-ttu-id="83528-190">En la tabla siguiente se proporciona un resumen rápido de la información.</span><span class="sxs-lookup"><span data-stu-id="83528-190">A quick summary of the information is given in the table below.</span></span>

<span data-ttu-id="83528-191">**Propiedad**</span><span class="sxs-lookup"><span data-stu-id="83528-191">**Property**</span></span> | <span data-ttu-id="83528-192">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="83528-192">**Description**</span></span>
--- | ---
<span data-ttu-id="83528-193">IDENTIFICADOR de directorio (ID de inquilino)</span><span class="sxs-lookup"><span data-stu-id="83528-193">Directory ID (Tenant ID)</span></span> | <span data-ttu-id="83528-194">Se trata de un identificador único que hace referencia al inquilino de Azure Active Directory (desde el paso 1).</span><span class="sxs-lookup"><span data-stu-id="83528-194">This is a unique ID referring the Azure Active Directory tenant (from step 1).</span></span>
<span data-ttu-id="83528-195">IDENTIFICADOR de la aplicación (identificador de cliente)</span><span class="sxs-lookup"><span data-stu-id="83528-195">Application ID (Client ID)</span></span> | <span data-ttu-id="83528-196">Se trata de un identificador único que hace referencia a la aplicación registrada en el paso 1.</span><span class="sxs-lookup"><span data-stu-id="83528-196">This is a unique ID referring the application registered in step 1.</span></span>
<span data-ttu-id="83528-197">Secreto de cliente</span><span class="sxs-lookup"><span data-stu-id="83528-197">Client Secret</span></span> | <span data-ttu-id="83528-198">Esta es la clave secreta de la aplicación (del paso 2).</span><span class="sxs-lookup"><span data-stu-id="83528-198">This is the secret key of the application (from step 2).</span></span> <span data-ttu-id="83528-199">Trate como una contraseña.</span><span class="sxs-lookup"><span data-stu-id="83528-199">Treat it like a password.</span></span>
<span data-ttu-id="83528-200">IDENTIFICADOR de entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="83528-200">Service Principal ID</span></span> | <span data-ttu-id="83528-201">Una identidad para la aplicación que se ejecuta como un servicio.</span><span class="sxs-lookup"><span data-stu-id="83528-201">An identity for the application running as a service.</span></span> <span data-ttu-id="83528-202">(del paso 3)</span><span class="sxs-lookup"><span data-stu-id="83528-202">(from step 3)</span></span>

###### <a name="step-4-register-servicenow-application"></a><span data-ttu-id="83528-203">Paso 4: registrar una aplicación de ServiceNow</span><span class="sxs-lookup"><span data-stu-id="83528-203">Step 4: Register ServiceNow Application</span></span>

<span data-ttu-id="83528-204">La siguiente configuración debe realizarse en la instancia de ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="83528-204">The following configuration need to be done in the ServiceNow instance.</span></span>

1. <span data-ttu-id="83528-205">Registre una nueva entidad OIDC de OAuth.</span><span class="sxs-lookup"><span data-stu-id="83528-205">Register a new OAuth OIDC entity.</span></span> <span data-ttu-id="83528-206">Para obtener más información, vea [crear un proveedor de OIDC de OAuth](https://docs.servicenow.com/bundle/orlando-platform-administration/page/administer/security/task/add-OIDC-entity.html).</span><span class="sxs-lookup"><span data-stu-id="83528-206">To learn, see [Create an OAuth OIDC provider](https://docs.servicenow.com/bundle/orlando-platform-administration/page/administer/security/task/add-OIDC-entity.html).</span></span>
2. <span data-ttu-id="83528-207">En la siguiente tabla se proporcionan instrucciones sobre cómo rellenar el formulario de registro del proveedor de OIDC</span><span class="sxs-lookup"><span data-stu-id="83528-207">The following table provides guidance on how to fill out OIDC provider registration form</span></span>

<span data-ttu-id="83528-208">**Field**</span><span class="sxs-lookup"><span data-stu-id="83528-208">**Field**</span></span> | <span data-ttu-id="83528-209">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="83528-209">**Description**</span></span> | <span data-ttu-id="83528-210">**Valor recomendado**</span><span class="sxs-lookup"><span data-stu-id="83528-210">**Recommended Value**</span></span>
--- | --- | ---
<span data-ttu-id="83528-211">Nombre</span><span class="sxs-lookup"><span data-stu-id="83528-211">Name</span></span> | <span data-ttu-id="83528-212">Un nombre único que identifica la entidad OIDC de OAuth.</span><span class="sxs-lookup"><span data-stu-id="83528-212">A unique name that identifies the OAuth OIDC entity.</span></span> | <span data-ttu-id="83528-213">Azure AD</span><span class="sxs-lookup"><span data-stu-id="83528-213">Azure AD</span></span>
<span data-ttu-id="83528-214">Identificador de cliente</span><span class="sxs-lookup"><span data-stu-id="83528-214">Client ID</span></span> | <span data-ttu-id="83528-215">IDENTIFICADOR de cliente de la aplicación registrada en el servidor OIDC de OAuth de terceros.</span><span class="sxs-lookup"><span data-stu-id="83528-215">The client ID of the application registered in the third-party OAuth OIDC server.</span></span> <span data-ttu-id="83528-216">La instancia usa el identificador de cliente al solicitar un token de acceso.</span><span class="sxs-lookup"><span data-stu-id="83528-216">The instance uses the client ID when requesting an access token.</span></span> | <span data-ttu-id="83528-217">IDENTIFICADOR de la aplicación (cliente) del paso 1</span><span class="sxs-lookup"><span data-stu-id="83528-217">Application (Client) ID from step 1</span></span>
<span data-ttu-id="83528-218">Secreto de cliente</span><span class="sxs-lookup"><span data-stu-id="83528-218">Client Secret</span></span> | <span data-ttu-id="83528-219">El secreto de cliente de la aplicación registrada en el servidor OIDC de OAuth de terceros.</span><span class="sxs-lookup"><span data-stu-id="83528-219">The client secret of the application registered in the third-party OAuth OIDC server.</span></span> | <span data-ttu-id="83528-220">Secreto de cliente del paso 2</span><span class="sxs-lookup"><span data-stu-id="83528-220">Client Secret from step 2</span></span>

<span data-ttu-id="83528-221">Todos los demás valores pueden ser predeterminados.</span><span class="sxs-lookup"><span data-stu-id="83528-221">All other values can be default.</span></span>

3. <span data-ttu-id="83528-222">En el formulario de registro del proveedor OIDC, debe agregar una nueva configuración de proveedor de OIDC.</span><span class="sxs-lookup"><span data-stu-id="83528-222">In the OIDC provider registration form, you need to add a new OIDC provider configuration.</span></span> <span data-ttu-id="83528-223">Haga clic en el icono de búsqueda en el campo *configuración del proveedor OIDC de OAuth* para abrir los registros de las configuraciones de OIDC.</span><span class="sxs-lookup"><span data-stu-id="83528-223">Click the search icon against *OAuth OIDC Provider Configuration* field to open the records of OIDC configurations.</span></span> <span data-ttu-id="83528-224">Haga clic en Nuevo.</span><span class="sxs-lookup"><span data-stu-id="83528-224">Click New.</span></span>
4. <span data-ttu-id="83528-225">En la tabla siguiente se proporciona información sobre cómo rellenar el formulario de configuración del proveedor de OIDC</span><span class="sxs-lookup"><span data-stu-id="83528-225">The following table provides guidance on how to fill out OIDC provider configuration form</span></span>

<span data-ttu-id="83528-226">**Field**</span><span class="sxs-lookup"><span data-stu-id="83528-226">**Field**</span></span> | <span data-ttu-id="83528-227">**Valor recomendado**</span><span class="sxs-lookup"><span data-stu-id="83528-227">**Recommended Value**</span></span>
--- | ---
<span data-ttu-id="83528-228">Proveedor OIDC</span><span class="sxs-lookup"><span data-stu-id="83528-228">OIDC Provider</span></span> |  <span data-ttu-id="83528-229">Azure AD</span><span class="sxs-lookup"><span data-stu-id="83528-229">Azure AD</span></span>
<span data-ttu-id="83528-230">Dirección URL de metadatos de OIDC</span><span class="sxs-lookup"><span data-stu-id="83528-230">OIDC Metadata URL</span></span> | <span data-ttu-id="83528-231">Debe tener el formato HTTPS \: //login.microsoftonline.com/"tenandId"/.Well-Known/OpenID-Configuration</span><span class="sxs-lookup"><span data-stu-id="83528-231">This must be in the form https\://login.microsoftonline.com/"tenandId"/.well-known/openid-configuration</span></span> <br/><span data-ttu-id="83528-232">Reemplace "tenantID" por el identificador de directorio (inquilino) del paso 1 (sin comillas).</span><span class="sxs-lookup"><span data-stu-id="83528-232">Replace "tenantID" with Directory (tenant) ID from step 1 (without quotes).</span></span>
<span data-ttu-id="83528-233">Intervalo de vida de la memoria caché de configuración de OIDC</span><span class="sxs-lookup"><span data-stu-id="83528-233">OIDC Configuration Cache Life Span</span></span> |  <span data-ttu-id="83528-234">120</span><span class="sxs-lookup"><span data-stu-id="83528-234">120</span></span>
<span data-ttu-id="83528-235">Aplicación</span><span class="sxs-lookup"><span data-stu-id="83528-235">Application</span></span> | <span data-ttu-id="83528-236">Global</span><span class="sxs-lookup"><span data-stu-id="83528-236">Global</span></span>
<span data-ttu-id="83528-237">Notificación de usuario</span><span class="sxs-lookup"><span data-stu-id="83528-237">User Claim</span></span> | <span data-ttu-id="83528-238">sub</span><span class="sxs-lookup"><span data-stu-id="83528-238">sub</span></span>
<span data-ttu-id="83528-239">Campo de usuario</span><span class="sxs-lookup"><span data-stu-id="83528-239">User Field</span></span> | <span data-ttu-id="83528-240">Id. de usuario</span><span class="sxs-lookup"><span data-stu-id="83528-240">User ID</span></span>
<span data-ttu-id="83528-241">Habilitar la comprobación de notificaciones de JTI</span><span class="sxs-lookup"><span data-stu-id="83528-241">Enable JTI claim verification</span></span> | <span data-ttu-id="83528-242">Deshabilitado</span><span class="sxs-lookup"><span data-stu-id="83528-242">Disabled</span></span>

5. <span data-ttu-id="83528-243">Haga clic en enviar y actualizar el formulario de entidad OIDC de OAuth.</span><span class="sxs-lookup"><span data-stu-id="83528-243">Click Submit and Update the OAuth OIDC Entity form.</span></span>

###### <a name="step-5-create-a-servicenow-account"></a><span data-ttu-id="83528-244">Paso 5: crear una cuenta de ServiceNow</span><span class="sxs-lookup"><span data-stu-id="83528-244">Step 5: Create a ServiceNow account</span></span>

<span data-ttu-id="83528-245">Consulte las instrucciones para crear una cuenta de ServiceNow, [crear un usuario en ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_CreateAUser.html).</span><span class="sxs-lookup"><span data-stu-id="83528-245">Refer the instructions to create a ServiceNow account, [create a user in ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_CreateAUser.html).</span></span>

<span data-ttu-id="83528-246">En la siguiente tabla se proporcionan instrucciones sobre cómo rellenar el registro de la cuenta de usuario de ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="83528-246">The following table provides guidance on how to fill out the ServiceNow user account registration</span></span>

<span data-ttu-id="83528-247">**Field**</span><span class="sxs-lookup"><span data-stu-id="83528-247">**Field**</span></span> | <span data-ttu-id="83528-248">**Valor recomendado**</span><span class="sxs-lookup"><span data-stu-id="83528-248">**Recommended Value**</span></span>
--- | ---
<span data-ttu-id="83528-249">Id. de usuario</span><span class="sxs-lookup"><span data-stu-id="83528-249">User ID</span></span> | <span data-ttu-id="83528-250">IDENTIFICADOR de entidad de servicio del paso 3</span><span class="sxs-lookup"><span data-stu-id="83528-250">Service Principal ID from step 3</span></span>
<span data-ttu-id="83528-251">Acceso al servicio Web solamente</span><span class="sxs-lookup"><span data-stu-id="83528-251">Web service access only</span></span> | <span data-ttu-id="83528-252">Checked</span><span class="sxs-lookup"><span data-stu-id="83528-252">Checked</span></span>

<span data-ttu-id="83528-253">El resto de valores pueden dejarse en valores predeterminados.</span><span class="sxs-lookup"><span data-stu-id="83528-253">All other values can be left to default.</span></span>

###### <a name="step-6-enable-knowledge-role-for-the-servicenow-account"></a><span data-ttu-id="83528-254">Paso 6: habilitar rol de conocimiento para la cuenta de ServiceNow</span><span class="sxs-lookup"><span data-stu-id="83528-254">Step 6: Enable Knowledge role for the ServiceNow account</span></span>

<span data-ttu-id="83528-255">Acceda a la cuenta de ServiceNow que ha creado con el identificador principal de ServiceNow como identificador de usuario y asigne la función de conocimiento.</span><span class="sxs-lookup"><span data-stu-id="83528-255">Access the ServiceNow account you created with ServiceNow Principal ID as User ID and assign the knowledge role.</span></span> <span data-ttu-id="83528-256">Aquí encontrará instrucciones para asignar un rol a una cuenta de ServiceNow, así como [para asignar una función a un usuario](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span><span class="sxs-lookup"><span data-stu-id="83528-256">Instructions to assigning a role to a ServiceNow account can be found here, [assign a role to a user](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span></span>

<span data-ttu-id="83528-257">Use el identificador de aplicación como identificador de cliente (del paso 1) y secreto de cliente (del paso 2) en el Asistente para la configuración del centro de administración para autenticarse en su instancia de ServiceNow mediante el OpenID Connect de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="83528-257">Use Application ID as Client ID (from step 1), and Client secret (from step 2) in admin center configuration wizard to authenticate to your ServiceNow instance using Azure AD OpenID Connect.</span></span>

## <a name="filter-data"></a><span data-ttu-id="83528-258">Filtrar datos</span><span class="sxs-lookup"><span data-stu-id="83528-258">Filter data</span></span>

<span data-ttu-id="83528-259">Con una cadena de consulta de ServiceNow, puede especificar condiciones para la sincronización de artículos.</span><span class="sxs-lookup"><span data-stu-id="83528-259">With a ServiceNow query string, you can specify conditions for syncing articles.</span></span> <span data-ttu-id="83528-260">Es similar a una cláusula **Where** en una instrucción **SELECT de SQL** .</span><span class="sxs-lookup"><span data-stu-id="83528-260">It's like a **Where** clause in a **SQL Select** statement.</span></span> <span data-ttu-id="83528-261">Por ejemplo, puede optar por indizar solo los artículos publicados y activos.</span><span class="sxs-lookup"><span data-stu-id="83528-261">For example, you can choose to index only articles that are published and active.</span></span> <span data-ttu-id="83528-262">Para obtener información sobre cómo crear su propia cadena de consulta, consulte [generar una cadena de consulta codificada mediante un filtro](https://docs.servicenow.com/bundle/paris-platform-user-interface/page/use/using-lists/task/t_GenEncodQueryStringFilter.html).</span><span class="sxs-lookup"><span data-stu-id="83528-262">To learn about creating your own query string, see [Generate an encoded query string using a filter](https://docs.servicenow.com/bundle/paris-platform-user-interface/page/use/using-lists/task/t_GenEncodQueryStringFilter.html).</span></span>

## <a name="manage-search-permissions"></a><span data-ttu-id="83528-263">Administrar permisos de búsqueda</span><span class="sxs-lookup"><span data-stu-id="83528-263">Manage search permissions</span></span>

<span data-ttu-id="83528-264">El conector de ServiceNow admite los permisos de búsqueda visibles para **todos** los usuarios o **solo personas con acceso a este origen de datos**.</span><span class="sxs-lookup"><span data-stu-id="83528-264">The ServiceNow connector supports search permissions visible to **Everyone** or **Only people with access to this data source**.</span></span> <span data-ttu-id="83528-265">Los datos indizados aparecen en los resultados de la búsqueda y son visibles para todos los usuarios de la organización o para los usuarios que tienen acceso a ellos respectivamente.</span><span class="sxs-lookup"><span data-stu-id="83528-265">Indexed data appears in the search results and is visible to all users in the organization or users who have access to them respectively.</span></span> <span data-ttu-id="83528-266">El conector de ServiceNow admite permisos de criterios de usuario predeterminados sin scripts avanzados.</span><span class="sxs-lookup"><span data-stu-id="83528-266">ServiceNow Connector supports default user criteria permissions without advanced scripts.</span></span> <span data-ttu-id="83528-267">Cuando el conector encuentra un criterio de usuario con una secuencia de comandos avanzada, no se mostrarán en los resultados de la búsqueda todos los datos que usen los criterios del usuario.</span><span class="sxs-lookup"><span data-stu-id="83528-267">When the connector encounters a user criteria with advanced script, all data using that user criteria will not be showed in search results.</span></span>

<span data-ttu-id="83528-268">Si elige **solo personas con acceso a este origen de datos**, debe elegir aún más si su instancia de ServiceNow tiene usuarios aprovisionados de Azure Active Directory (AAD) o usuarios que no son AAD.</span><span class="sxs-lookup"><span data-stu-id="83528-268">If you choose **Only people with access to this data source**, you need to further choose whether your ServiceNow instance has Azure Active Directory (AAD) provisioned users or Non-AAD users.</span></span>

>[!NOTE]
><span data-ttu-id="83528-269">El conector de ServiceNow se encuentra en **versión preliminar** si elige **solo a personas con acceso a este origen de datos**.</span><span class="sxs-lookup"><span data-stu-id="83528-269">The ServiceNow connector is in **preview** if you choose **Only people with access to this data source**.</span></span>

>[!NOTE]
><span data-ttu-id="83528-270">Si elige AAD como tipo de origen de identidad, asegúrese de que está asignando la propiedad de origen UPN a propiedad de destino email en ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="83528-270">If you choose AAD as the type of identity source, make sure you are assigning UPN source property to email targeted property in ServiceNow.</span></span> <span data-ttu-id="83528-271">Para comprobar o cambiar las asignaciones, vea [Personalización de aprovisionamiento de usuarios: asignaciones de atributos para aplicaciones SaaS en Azure Active Directory](https://docs.microsoft.com/azure/active-directory/app-provisioning/customize-application-attributes).</span><span class="sxs-lookup"><span data-stu-id="83528-271">To verify or change your mappings, see [Customizing user provisioning attribute-mappings for SaaS applications in Azure Active Directory](https://docs.microsoft.com/azure/active-directory/app-provisioning/customize-application-attributes).</span></span>

<span data-ttu-id="83528-272">Si opta por integrar una LCA de su instancia de ServiceNow y ha seleccionado "no-AAD" para el tipo de identidad, consulte [asignar las identidades que no son de Azure ad](map-non-aad.md) para obtener instrucciones sobre cómo asignar las identidades.</span><span class="sxs-lookup"><span data-stu-id="83528-272">If you chose to ingest an ACL from your ServiceNow instance and selected "non-AAD" for the identity type see [Map your non-Azure AD Identities](map-non-aad.md) for instructions on mapping the identities.</span></span>

## <a name="assign-property-labels"></a><span data-ttu-id="83528-273">Asignar etiquetas de propiedad</span><span class="sxs-lookup"><span data-stu-id="83528-273">Assign property labels</span></span>

<span data-ttu-id="83528-274">Puede asignar una propiedad de origen a cada etiqueta eligiendo en un menú de opciones.</span><span class="sxs-lookup"><span data-stu-id="83528-274">You can assign a source property to each label by choosing from a menu of options.</span></span> <span data-ttu-id="83528-275">Aunque este paso no es obligatorio, tener algunas etiquetas de propiedades mejorará la relevancia de la búsqueda y garantizará resultados de búsqueda más precisos para los usuarios finales.</span><span class="sxs-lookup"><span data-stu-id="83528-275">While this step is not mandatory, having some property labels will improve the search relevance and ensure more accurate search results for end users.</span></span>

## <a name="manage-schema"></a><span data-ttu-id="83528-276">Administrar esquema</span><span class="sxs-lookup"><span data-stu-id="83528-276">Manage schema</span></span>

<span data-ttu-id="83528-277">En la pantalla **administrar esquema** , tiene la opción de cambiar los atributos de esquema (**consultable**, **búsquedas**, **recuperables** y **refinables**) asociados con las propiedades, agregar alias opcionales y elegir la propiedad de **contenido** .</span><span class="sxs-lookup"><span data-stu-id="83528-277">On the **Manage Schema** screen, you have the option to change the schema attributes (**queryable**, **searchable**, **retrievable**, and **refinable**) associated with the properties, add optional aliases, and choose the **Content** property.</span></span>

## <a name="set-the-refresh-schedule"></a><span data-ttu-id="83528-278">Establecer la programación de actualización</span><span class="sxs-lookup"><span data-stu-id="83528-278">Set the refresh schedule</span></span>

<span data-ttu-id="83528-279">El conector de ServiceNow admite programaciones de actualización para rastreos completos e incrementales.</span><span class="sxs-lookup"><span data-stu-id="83528-279">The ServiceNow connector supports refresh schedules for both full and incremental crawls.</span></span> <span data-ttu-id="83528-280">Le recomendamos que configure ambos.</span><span class="sxs-lookup"><span data-stu-id="83528-280">We recommend that you set both.</span></span>

<span data-ttu-id="83528-281">Una programación de rastreo completo encuentra artículos eliminados que se han sincronizado anteriormente con el índice de Microsoft Search y los artículos que se han sacado del filtro de sincronización.</span><span class="sxs-lookup"><span data-stu-id="83528-281">A full crawl schedule finds deleted articles that were previously synced to the Microsoft Search index and any articles that moved out of the sync filter.</span></span> <span data-ttu-id="83528-282">La primera vez que se conecte a ServiceNow, se ejecuta un rastreo completo para sincronizar todos los artículos de Knowledge base.</span><span class="sxs-lookup"><span data-stu-id="83528-282">When you first connect to ServiceNow, a full crawl runs to sync all the knowledge-base articles.</span></span> <span data-ttu-id="83528-283">Para sincronizar nuevos elementos y realizar actualizaciones, debe programar rastreos incrementales.</span><span class="sxs-lookup"><span data-stu-id="83528-283">To sync new items and make updates, you need to schedule incremental crawls.</span></span>

<span data-ttu-id="83528-284">El valor predeterminado recomendado es un día para un rastreo completo y cuatro horas para un rastreo incremental.</span><span class="sxs-lookup"><span data-stu-id="83528-284">The recommended default is one day for a full crawl and four hours for an incremental crawl.</span></span>
>[!NOTE]
><span data-ttu-id="83528-285">Para las identidades, solo se aplicará el rastreo completo programado.</span><span class="sxs-lookup"><span data-stu-id="83528-285">For identities, only full crawl scheduled will be applied.</span></span>

## <a name="review-and-publish"></a><span data-ttu-id="83528-286">Revisión y publicación</span><span class="sxs-lookup"><span data-stu-id="83528-286">Review and publish</span></span>

<span data-ttu-id="83528-287">Después de configurar el conector, puede revisar y publicar la conexión.</span><span class="sxs-lookup"><span data-stu-id="83528-287">After you configure your connector, you can review and publish the connection.</span></span>

## <a name="next-steps"></a><span data-ttu-id="83528-288">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="83528-288">Next steps</span></span>

<span data-ttu-id="83528-289">Después de publicar la conexión, debe personalizar la página de resultados de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="83528-289">After publishing the connection, you need to customize the search results page.</span></span> <span data-ttu-id="83528-290">Para obtener información sobre cómo personalizar los resultados de la búsqueda, vea [personalizar la página de resultados de búsqueda](https://docs.microsoft.com/microsoftsearch/configure-connector#next-steps-customize-the-search-results-page).</span><span class="sxs-lookup"><span data-stu-id="83528-290">To learn about customizing search results, see [Customize the search results page](https://docs.microsoft.com/microsoftsearch/configure-connector#next-steps-customize-the-search-results-page).</span></span>